(()=>{"use strict";var e,t={151:()=>{function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const t=new(function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._isPresent=null}var n,i,r;return n=t,(i=[{key:"isPresent",value:function(){if(null!==this._isPresent)return this._isPresent;try{var e=document.querySelector('meta[name="application-name"]');return this._isPresent="JIRA"===e.content}catch(e){return this._isPresent=!1}}},{key:"isNotPresent",value:function(){return!this.isPresent()}},{key:"hasLoadedSwimlanes",value:function(){return!!document.querySelector(".ghx-swimlane, #ghx-mapping, #jira-board > div > div")}},{key:"hasNotLoadedSwimlanes",value:function(){return!this.hasLoadedSwimlanes()}},{key:"columnsContainer",value:function(){return document.querySelector(".ghx-swimlane > .ghx-columns, #ghx-mapping, .aui-page-panel-content > #jira-board")}},{key:"columns",value:function(){return this.columnsContainer().querySelectorAll('.ghx-column, .ghx-column-wrapper, [class*="hook__column"]')}},{key:"content",value:function(){return document.getElementById("content")}}])&&e(n.prototype,i),r&&e(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}());function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="ghx-detail-view",this.Storage=chrome.storage.sync,this.listening=!1,this.running=!0,this.manageMouseListener=this.manageMouse.bind(this)}var i,r,o;return i=e,(r=[{key:"run",value:function(){var e=this;if(t.isNotPresent())this.running=!1;else{var n=document.getElementById(this.id);n?n.addEventListener("mouseenter",(function(){if(null===n.querySelector(".better-resize")){var t=document.createElement("div");t.classList.add("better-resize"),n.appendChild(t),n.querySelector(".better-resize").addEventListener("mousedown",(function(t){t.preventDefault(),2!==t.button&&(document.addEventListener("mousemove",e.manageMouseListener),e.listening=!0)})),document.addEventListener("mouseup",(function(t){e.listening&&(document.removeEventListener("mousemove",e.manageMouseListener),e.listening=!1,e.saveDetailViewWidth())}))}})):this.running=!1}}},{key:"manageMouse",value:function(e){if(this.running){var t=window.innerWidth-e.pageX+2;document.documentElement.style.setProperty("--detail-view-width","".concat(t,"px"))}}},{key:"saveDetailViewWidth",value:function(){this.running&&(console.log("ðŸ”§: Detail Width",document.documentElement.style.getPropertyValue("--detail-view-width")),this.Storage.set({detailViewWidth:document.documentElement.style.getPropertyValue("--detail-view-width")}))}}])&&n(i.prototype,r),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),e}());function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cssClass="standup",this.instructionsCssClass="BetterJira-instructions",this.data={},this.running=!0}var n,i,o;return n=e,(i=[{key:"run",value:function(e){t.isNotPresent()?this.running=!1:e?this.initializeStandup():this._cleanupStandup()}},{key:"initializeStandup",value:function(){var e=this;if(this.running){this._listener=function(t){t.target.closest("[data-standup-close]")&&chrome.storage.sync.set({standup:!1},(function(){e._cleanupStandup()}))},document.addEventListener("click",this._listener),window.standup=!0,document.body.classList.add(this.cssClass);var t=document.createElement("div");t.setAttribute("data-standup-close",""),t.classList.add(this.instructionsCssClass),t.innerHTML='\n      <span class="text">Close Standup Mode <span class="close">&nbsp;&plus;&nbsp;</span></span>\n    ',document.body.appendChild(t)}}},{key:"_cleanupStandup",value:function(){document.body.classList.remove(this.cssClass),window.standup=!1,document.removeEventListener("click",this._listener);var e=document.querySelector(".".concat(this.instructionsCssClass));null!==e&&e.remove()}}])&&r(n.prototype,i),o&&r(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}());function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={},this.Storage=chrome.storage.sync,this.running=!0,t.isNotPresent()?this.running=!1:(this._initialColumnResize(),this.Storage.get("standup",(function(e){n._initiateStandup(e.standup)})))}var n,i,r;return n=e,i=[{key:"update",value:function(e){this._updateColumnWidths(e.detail),this._initiateStandup(e.detail.standup)}},{key:"_updateColumnWidths",value:function(e){this.running&&(e.enabled?(document.body.classList.add("better-jira"),this._getPreferredWidth(e)):document.body.classList.remove("better-jira"))}},{key:"_ifEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.running&&this.Storage.get("enabled",(function(n){n.enabled?e():t()}))}},{key:"_initialColumnResize",value:function(){var e=this;this.running&&setTimeout((function(){if(t.hasNotLoadedSwimlanes())return e._initialColumnResize();e._ifEnabled((function(){document.body.classList.add("better-jira"),e.Storage.get("columnWidth",e._getPreferredWidth.bind(e)),e._protectAgainstReactBoardReloading()}),(function(){document.body.classList.remove("better-jira")}))}),100)}},{key:"_getPreferredWidth",value:function(e){this.running&&(this.data.columnWidth=e.columnWidth,isNaN(this.data.columnWidth)&&(this.data.columnWidth=200),this._setPreferredWidth())}},{key:"_setPreferredWidth",value:function(){var e,n,i;if(this.running&&(e=this.data.columnWidth,!((i=(n=t.columns().length)*e+12*n)<10))){if(i<window.innerWidth){var r=document.querySelector("#gh, #content > .aui-page-panel");i=parseInt(r.offsetWidth)-parseInt(window.getComputedStyle(r,null).getPropertyValue("padding-left"))}try{var o={poolWidth:i};this.Storage.set(o),this._setPoolWidth(i)}catch(e){console.error(e)}}}},{key:"_setPoolWidth",value:function(e){document.documentElement.style.setProperty("--viewport-width","".concat(e,"px"))}},{key:"_setDetailViewWidth",value:function(e){document.documentElement.style.setProperty("--detail-view-width",e)}},{key:"_initiateStandup",value:function(e){o.run(e)}},{key:"_protectAgainstReactBoardReloading",value:function(){var e=this,n=new MutationObserver((function(t){t.find((function(e){return!(e.removedNodes<1)&&a(e.removedNodes).find((function(e){return"ghx-pool-column"===e.id}))}))&&(n.disconnect(),e._initialColumnResize())}));n.observe(t.content(),{childList:!0,subtree:!0})}}],r=[{key:"initialize",value:function(){return new this}}],i&&u(n.prototype,i),r&&u(n,r),Object.defineProperty(n,"prototype",{writable:!1}),e}().initialize();i.run(),document.addEventListener("better-jira:updated",(function(e){console.log("ðŸ”§: ",e.detail),l.update(e)}))},511:()=>{},621:()=>{},892:()=>{}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.m=t,e=[],i.O=(t,n,r,o)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,r,o]=e[c],s=!0,u=0;u<n.length;u++)(!1&o||a>=o)&&Object.keys(i.O).every((e=>i.O[e](n[u])))?n.splice(u--,1):(s=!1,o<a&&(a=o));if(s){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,r,o]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={851:0,721:0,88:0,488:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[a,s,u]=n,l=0;if(a.some((t=>0!==e[t]))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(u)var c=u(i)}for(t&&t(n);l<a.length;l++)o=a[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.O(void 0,[721,88,488],(()=>i(151))),i.O(void 0,[721,88,488],(()=>i(511))),i.O(void 0,[721,88,488],(()=>i(621)));var r=i.O(void 0,[721,88,488],(()=>i(892)));r=i.O(r)})();